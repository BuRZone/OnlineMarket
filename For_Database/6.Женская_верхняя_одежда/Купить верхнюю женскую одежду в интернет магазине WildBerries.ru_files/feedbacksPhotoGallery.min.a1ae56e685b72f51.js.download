(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(){let e=function(){function e(e,t){this.adult=t,this.photos=$.views.helpers.fillFeedbackPhotos(e),this.previews=this.photos.slice(0,30),this.leftCount=this.photos.length-this.previews.length,this.id=this.$generateGuid()}var t=e.prototype;return t.initCarousel=async function(){const e=document.getElementById(this.id);e&&(this.swiper=new Swiper(e.querySelector(".swiper-container"),{slidesPerView:"auto",slidesPerGroup:1,spaceBetween:8,passiveListeners:!1,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},breakpoints:{320:{slidesOffsetBefore:16,slidesOffsetAfter:16},1024:{slidesPerGroup:8,slidesOffsetBefore:0,slidesOffsetAfter:0},1366:{slidesPerGroup:11}},on:{click:(e,t)=>{e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault();const o=!this.$isDesktop&&e.target.classList.contains("j-show-more-slide")?this.showAllPhotosList.bind(this,e):this.showCompositeSwiper.bind(this);this.$adult.proceedIfAdultConfirmed(this.adult,o)}}}))},t.showCompositeSwiper=async function(e,t){const o=Promise.all([this.$moduleLoader.loadModuleAsync("photoGalleryViewer"),this.$moduleLoader.loadModuleAsync("feedbacksPhotoGalleryList")]);let i;if(null==e){const{data:e}=$.view(this.swiper.clickedSlide);if(!e)return;i=this.previews.findIndex(t=>t==e)}else i=e;const[s,r]=await o;return this.$isDesktop?this._showDesktopSlider(s,r,i):this._showMobileSlider(s,i)},t.showAllPhotosList=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.$adult.proceedIfAdultConfirmed(this.adult,this._showAllPhotosListInternal,this)},t._showAllPhotosListInternal=function(){this.$moduleLoader.loadModuleAsync("feedbacksPhotoGalleryList").then(e=>{const t=new e(this.photos);wb.popup.showCustomPopup({useHtml:!0,popupClassesList:["j-feedbacks-popup","popup-thumbs-gallery","shown"],contentClasses:["popup__content","sw-slider-thumbs-gallery"],useCenteredFunction:!0,lockScroll:!0,onShow:e=>{t.template.link(e.querySelector(".popup__content"),t),t.init()},onHide(){t.destroy()}})})},t._showDesktopSlider=function(e,t,o){(new e).showCompositeSwiper(this.photos,o,!1,{additionalModel:new t(this.photos)})},t._showMobileSlider=function(e,t){(new e).showCompositeSwiper(this.photos,t,!1)},_createClass(e,[{key:"template",get:function(){return e.template}}]),e}();window.__spaModuleManager__.register("feedbacksPhotoGallery",e)}();

},{}]},{},[1]);
