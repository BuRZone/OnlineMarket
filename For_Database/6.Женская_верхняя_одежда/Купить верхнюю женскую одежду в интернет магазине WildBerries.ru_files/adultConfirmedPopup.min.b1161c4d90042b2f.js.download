(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(){let t=function(){function t(){this.onlyAdultClass="for-adults",this.requestUrl="/webapi/product/confirmadult",this.queue=[]}var e=t.prototype;return e.proceedIfAdultConfirmed=function(t,e,...o){return this._showConfirmPopup().then(t=>(this._sendConfirmWbaEvent(t),t?this._updateAdultConfirmStatus():Promise.resolve(!1))).then(n=>(n&&(null==t||t.apply(e,o)),Promise.resolve(n)))},e.pushToQueue=function(t){this.queue.push(t)},e.closePopup=function(){var t;null===(t=this.popup)||void 0===t||t.close(),this.popup=null},e._showConfirmPopup=function(){return this._sendShowWbaEvent(),new Promise(t=>{$.views.loadTemplateAsync("confirmadultpopup").then(e=>{this.popup=wb.popup.showCustomPopup({useHtml:!0,popupClassesList:["popup-confirm-age","shown"],contentClasses:["popup__content"],useCenteredFunction:!0,onShow:o=>{e.link(o.querySelector(".popup__content"),{confirm:()=>{t(!0),this.popup.close(),this.popup=null},decline:()=>{t(!1),this.popup.close(),this.popup=null}})},onHide:()=>{t(!1),this.popup=null}})})})},e._updateAdultConfirmStatus=function(){return this.$httpClient.fetchJSON(this.requestUrl,{method:"POST"}).then(t=>(this._onAdultConfirmed(),Promise.resolve(!0))).catch(t=>(console.error(t.message),Promise.resolve(!1)))},e._onAdultConfirmed=function(){document.getElementsByClassName(this.onlyAdultClass).forEach(t=>t.classList.remove(this.onlyAdultClass)),this.queue.forEach(t=>t())},e._sendShowWbaEvent=function(){this._checkRoute()&&this.$analitic.sendEvent("Alert_Adult_Confirmation_S")},e._sendConfirmWbaEvent=function(t){this._checkRoute()&&this.$analitic.sendEvent(t?"Alert_Adult_Confirmation_Yes":"Alert_Adult_Confirmation_No")},e._checkRoute=function(){switch(this.$router.currentRoute.name){case"SpaCatalogEntrypoint":case"SpaBrandsEntrypoint":case"SpaPromotionCatalogEntrypoint":case"SpaRecentCatalogEntrypoint":case"SpaRecommendationsCatalogEntrypoint":case"SpaRecommendationsSearchCatalogEntrypoint":case"SpaSearchByImageEntrypoint":case"SpaSearchEntrypoint":case"SpaSellerCatalogEntrypoint":case"SpaTecDocEntrypoint":case"SpaVideoReviewEntrypoint":return!0;default:return!1}},t}();window.__spaModuleManager__.register("adultConfirmedPopup",t)}();

},{}]},{},[1]);
