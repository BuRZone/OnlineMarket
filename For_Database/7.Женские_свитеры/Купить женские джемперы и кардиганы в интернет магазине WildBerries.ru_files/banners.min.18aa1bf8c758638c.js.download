(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";$.views.tags({bigBanners:{template:'{^{if ~tag.bannersList.length > 0}}\n                    <div class="swiper-container j-main-banners{{if !~tagCtx.props.isAdaptive}} big-banner-inner{{/if}}">\n                        <div class="swiper-wrapper{{if !~tagCtx.props.isAdaptive}} big-banner{{/if}}">\n                            {^{for ~tag.bannersList}}\n                                {{singleBanner banner=#data itemClass=\'swiper-slide\' imgClass="swiper-lazy" isLazy=(#getIndex() > 0)\n                                    swiperLazyLoad=true  protectAdult=~tagCtx.props.protectAdult \n                                    imgContClass=~tagCtx.props.imgContClass bannersZoneClass=~tagCtx.props.bannersZoneClass\n                                    bannersZonesContainer=~tagCtx.props.bannersZonesContainer\n                                    bannerIndex=#getIndex() analiticsCode=~tagCtx.props.analiticsCode\n                                /}}\n                            {{/for}}\n                        </div>\n                        <button class="swiper-button-prev{{if ~tag.bannersList.length <= 1}} hide{{/if}}" type="button">Назад</button>\n                        <button class="swiper-button-next{{if ~tag.bannersList.length <= 1}} hide{{/if}}" type="button">Вперёд</button>\n                    </div>\n                    <ul class="swiper-pagination j-main-banners-pagination{{if ~tag.bannersList.length <= 1}} hide{{/if}}"></ul>\n                {{/if}}',init(){this.bannersList=[],this.swiper=null},onUpdate:!1,async onAfterLink(){var t,n;const e=this;null===(t=this.swiper)||void 0===t||t.destroy(),null===(n=this.observer)||void 0===n||n.destroy(),this._prepareBannersList();const a=this.linkCtx.elem.querySelector(".j-main-banners");function s(){var t;const n=null===(t=e.swiper.slides)||void 0===t?void 0:t[e.swiper.activeIndex];if(!n||n.classList.contains("swiper-slide-duplicate"))return;const a=n.querySelector(".j-banner-wba");a.dataset.wbaShownStatSent||(a.dataset.wbaShownStatSent=!0,e.ctx.root.$analitic.sendBannersWbaEvent("Banner_S",a.title,a.dataset.analiticsCode,a.href,a.dataset.bannerIndex,a.dataset.bannerId))}function i(t){e.swiper.on("slideChange",s),s(),e.swiper.autoplay.start()}function r(t){e.swiper.off("slideChange",s),e.swiper.autoplay.stop()}null!=a?(await this.ctx.root.$helper.nextTick(),this.swiper=new Swiper(a,{loop:this.bannersList.length>1,effect:"fade",fadeEffect:{crossFade:!0},lazy:{loadOnTransitionStart:!0,loadPrevNext:!0},autoplay:{delay:1e4},pagination:{el:a.parentNode.querySelector(".j-main-banners-pagination"),type:"bullets",dynamicBullets:!0,renderBullet:(t,n)=>`<li class='${n}'><button role="button" type="button" aria-label="Dot slide">Dot slide</button></li>`,clickable:!0},navigation:{nextEl:a.querySelector(".swiper-button-next"),prevEl:a.querySelector(".swiper-button-prev"),disabledClass:"hide"},on:{init:()=>{var t,n;null===(t=this.tagCtx.props.bigBannersCallbacks)||void 0===t||null===(n=t.onInit)||void 0===n||n.call(t)},click:t=>{var n,e;null===(n=this.tagCtx.props.bigBannersCallbacks)||void 0===n||null===(e=n.onClick)||void 0===e||e.call(n,t);const a=t.target.closest(".j-banner-click-stat");if(null!=a){const{data:t}=$.view(a);this.ctx.root.$stat.banners.sendClickStatistic($(a)),this.ctx.root.$analitic.saveState({l:this.tagCtx.props.analiticsCode,t:null==t?void 0:t.id,t2:parseInt(a.dataset.bannerIndex)+1})}}}}),this.observer=function(){const t=navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.indexOf("Trident/")>0;let n;var s;t?i():(n=null===(s=e.ctx.root)||void 0===s?void 0:s.$observerHelper.getCarouselBannersObserver(a,{threshold:.5}),a.addEventListener(n.elementInViewportEventName,i),a.addEventListener(n.elementOutOfViewportEventName,r),n.observe());return{destroy:function(){!t&&n&&(n.destroy(),a.removeEventListener(n.elementInViewportEventName,i),a.removeEventListener(n.elementOutOfViewportEventName,r))}}}()):this.swiper=null},onDispose(){var t,n;null===(t=this.swiper)||void 0===t||t.destroy(),null===(n=this.observer)||void 0===n||n.destroy()},_prepareBannersList(){var t;const n=null!==(t=this.tagCtx.props.bannersList)&&void 0!==t?t:[];$.observable(this.bannersList).refresh(n)}},bannersCarousel:{template:"{{if ~tag.bannerList.length == 1}}\n                    {{singleBanner banner=~tag.bannerList[0] analiticsCode=~tag.analiticsCode bannerIndex=~tag.bannerIndex /}}\n                {{/if}}",init(){var t;this.bannerList=null!==(t=this.tagCtx.props.bannerList)&&void 0!==t?t:[],this.analiticsCode=this.tagCtx.props.analiticsCode,this.bannerIndex=this.tagCtx.props.bannerIndex}},singleBanner:{template:'<div class="img-plug {{:~tagCtx.props.bannersZonesContainer || \'banners-zones-container\'}}{{if ~tagCtx.props.itemClass}}{{: \' \' + ~tagCtx.props.itemClass }}{{/if}}" data-plug-text="{{:~imgLoadError}}">\n                    <div class="{{:~tagCtx.props.bannersZoneClass || \'banners-zones\'}}" data-link="{on ~tagCtx.props.protectAdult && ~tag.protectAdultGoods}">\n                        <a class="j-banner-shown-stat j-banner-click-stat j-banner-wba j-banner" data-link="{on ~root.$analitic.proceedAndSave ~tagCtx.props.analiticsCode null null ~tag.banner.id null #getIndex()+1 }" href="{{url: ~tag.banner.link}}" title="{{attr: ~tag.banner.alt}}" target="{{: ~tag.banner.target || \'_blank\'}}" data-banner-id="{{: ~tag.banner.id}}" data-statistic-fields=\'{{:~toJson(~tag.banner.statisticFields)}}\' data-banner-index=\'{{:~tagCtx.props.bannerIndex}}\' data-analitics-code=\'{{:~tagCtx.props.analiticsCode}}\'>\n                            <div class="{{: ~tagCtx.props.imgContClass || \'img-wrap\'}}">\n                                {{if ~tagCtx.props.isLazy}}\n                                    <img src="{{: ~wbSettings.staticSiteUrl}}/i/blank.gif" class="{{: ~tagCtx.props.imgClass || ""}}" name="{{: \'banner_\' + ~tag.banner.id}}" data-{{if ~tagCtx.props.swiperLazyLoad}}src{{else}}original{{/if}}="{{> ~tag.banner.absoluteUrl}}" alt="{{attr: ~tag.banner.alt}}" />\n                                {{else}}\n                                    <img src="{{url: ~tag.banner.absoluteUrl}}" class="{{: ~tagCtx.props.imgClass || ""}}" name="{{: \'banner_\' + ~tag.banner.id}}"  alt="{{attr: ~tag.banner.alt}}" />\n                                {{/if}}\n                            </div>\n                            {{if ~tag.banner.bannerSelections.length > 0}}\n                                {{for ~tag.banner.bannerSelections}}\n                                    <a href="{{url: href}}" class="j-banner-click-stat j-banner j-banner-section" data-section="{{: #getIndex()}}" data-banner-id="{{: ~tag.banner.id}}" \n                                        style="position: absolute; display: block; top: {{: relativeYPos}}; left: {{: relativeXPos}}; width: {{:relativeWidth}}; height: {{: relativeHeight}}"></a>\n                                {{/for}}\n                            {{/if}}\n                            {{if ~tagCtx.props.showPromoText && ~tagCtx.props.carousel}}\n                                {{for ~tag.banner.promoTextLines}}\n                                     <span class="item-info">{{>}}</span>\n                                {{/for}}\n                            {{/if}}\n                            {{if ~tagCtx.props.showPromoText && !~tagCtx.props.carousel}}\n                                <span class="banners-catalog-custom__promo">{{>promoText}}</span>\n                            {{/if}}\n                        </a>\n                    </div>\n                </div>',init(){var t;this.banner=this.tagCtx.props.banner,this.banner.imgLoadError=this.ctx.root.$localziation.imgLoadError,this.banner.bannerSelections=(null!==(t=this.banner.bannerSelections)&&void 0!==t?t:[]).filter(t=>null!=t),this.banner.bannerSelections.forEach(t=>{t.relativeYPos=100*t.relativeYPos+"%",t.relativeXPos=100*t.relativeXPos+"%",t.relativeWidth=100*t.relativeWidth+"%",t.relativeHeight=100*t.relativeHeight+"%"})},update(){},protectAdultGoods(t){const n=this.ctx.root;n.$adult.isConfirmed||(t.preventDefault(),n.$adult.proceedIfAdultConfirmed(!0,()=>{var e;const a=null===(e=t.target.closest("a"))||void 0===e?void 0:e.href;null!=a&&n.$router.moveTo(a)},n))}}});

},{}]},{},[1]);
