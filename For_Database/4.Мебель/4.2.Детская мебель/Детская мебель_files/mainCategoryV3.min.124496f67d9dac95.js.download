(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(){let e=function(){function e(e,t,n,r){this.needAdultProtection=e.needAdultProtection,this.pageTitle=e.pageTitle,this.mainBannersFirst=[],this.bannersTask=e.bannersTask,this.carouselsData=e.carouselsData,this.leftMenuModel=t,this.sitePathModel=n,this.bannerAndRecommendations=r}var t=e.prototype;return t.onBeforeUnrender=function(){var e;null===(e=this.bannersBlocksObserver)||void 0===e||e.destroy(),this.$stat.banners.destroyClickEvent()},t.init=function(){return this._loadCarousels(),this._setBanners(),this},t.update=function(e){var t,n;this.carouselsData=e.carouselsData,this.bannersTask=e.bannersTask,null===(t=this.sitePathModel)||void 0===t||t.update(e.sitePathItems),null===(n=this.leftMenuModel)||void 0===n||n.update(e),this.bannerAndRecommendations.map(t=>t.update(e)),this._loadCarousels(),this._setBanners().then(()=>{window.requestAnimationFrame(()=>{$.observable(this).setProperty({needAdultProtection:e.needAdultProtection})})}),window.requestAnimationFrame(()=>{$.observable(this).setProperty({pageTitle:e.pageTitle})})},t._loadCarousels=async function(){var e;null!==(e=this.carouselsData)&&void 0!==e&&e.length&&this.carouselsData.forEach((e,t)=>{const n=this.bannerAndRecommendations[t];null!=n&&n.setRecommendations(e)})},t._setBanners=function(){return this.bannersTask.catch(()=>Promise.resolve({mainBannersFirst:[]})).then(({mainBannersFirst:e=[]})=>new Promise(t=>{window.requestAnimationFrame(()=>{$.observable(this.mainBannersFirst).refresh(e),this.bannersBlocksObserver=this.$stat.banners.bannerBlockShownStatWba(this),this.$stat.banners.sendStatisticNow(),this.$stat.banners.initClickEvent(!0),t()})}))},_createClass(e,[{key:"template",get:function(){return e.template}}]),e}();window.__spaModuleManager__.register("mainCategoryV3",e)}();

},{}]},{},[1]);
