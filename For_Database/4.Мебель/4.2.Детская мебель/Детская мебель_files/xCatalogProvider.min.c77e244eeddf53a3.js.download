(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(){const r=require("./xcatalog/goodsProvider"),e=require("./xcatalog/filtresProvider"),t=require("./xcatalog/advertProvider");let o=function(){function o(){}return o.createGoodsProvider=function(...e){return new r(...e)},o.createFiltresProvider=function(...r){return new e(...r)},o.createAdvertProvider=function(...r){return new t(...r)},o}();window.__spaModuleManager__.register("xCatalogProvider",o)}();

},{"./xcatalog/advertProvider":2,"./xcatalog/filtresProvider":3,"./xcatalog/goodsProvider":4}],2:[function(require,module,exports){
"use strict";function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==typeof e?e:String(e)}function _toPrimitive(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}const CatalogAdvertCache=require("./helpers/catalogAdvertCache"),CatalogAdvertSorter=require("./helpers/catalogAdvertSorter"),ADVERT_TYPE=Object.freeze({catalog:1,search:2,promo:3});let XCatalogAdvertProvider=function(t){function e(e){var r;return(r=t.call(this)||this).queryDictionary=e,r.cacheHelper=CatalogAdvertCache.getAdvertCache(),r.advertSorter=new CatalogAdvertSorter,r}_inheritsLoose(e,t);var r=e.prototype;return r.update=function(t){this.queryDictionary=t,this._advertType=null},r.loadAdvData=async function(){const{queryDictionary:t}=this;if(!this.advertEnabled)return null;if(!t.searchtext&&!t.menuId&&!t.promoId)return Promise.resolve(null);if(130255===t.menuId||130504===t.menuId)return null;if(this.advertType==ADVERT_TYPE.search){const t=await this._loadSplitInfo();if(!t||181==t.splitId&&"test_1"===t.title)return null}const e=this._getCacheKey(t),r=await this.cacheHelper.getAdvertInfo(e);if(null!=r&&!r.isEmpty)return r;if(null!=r&&r.isEmpty)return null;const o=this._getAdvertUrl(t);try{return await this._loadData(o,e)}catch(t){return null}},r.mixInAdvertGoods=function(t,e,r,o){var i;let n=parseInt(r.getKey("page"));isNaN(n)&&(n=1);const a=e.filter(t=>{var e;return 1===(null===(e=t.log)||void 0===e?void 0:e.promotion)});if((null==a?void 0:a.length)>0)for(const t of a){const r=e.findIndex(e=>e.nmId===t.nmId)+1;this._fillStatInfoFromCatalog(t,r,n)}if(!((null==t||null===(i=t.advGoods)||void 0===i?void 0:i.length)>0&&this.advertEnabled))return e;const s=this._getfilteredPagedAdvGoods(t,r,o);if(!s)return e;const d=s[n];return this._mergeAdvertAndCommonGoods(e,d)},r._loadSplitInfo=function(){return new Promise((t,e)=>{const r=setTimeout(()=>t(null),800);this.$analitic.getSplitInfo().then(e=>{clearTimeout(r),t(e)}).catch(()=>{t(null)})})},r._loadData=function(t,e){return new Promise((r,o)=>{const i=setTimeout(()=>o(null),800);this.$httpClient.fetchBasicJSON(t).then(t=>{var o,n;clearTimeout(i),this.advertType===ADVERT_TYPE.promo&&(t=this._buildPromoAdvData(t)),(!(null!==(o=t)&&void 0!==o&&null!==(o=o.adverts)&&void 0!==o&&o.length)>0||!(null!==(n=t)&&void 0!==n&&null!==(n=n.pages)&&void 0!==n&&n.length)>0)&&(this.cacheHelper.saveAdvertInfo(e,{isEmpty:!0}),r(null));const a=t.adverts.map(t=>t.id);return 0===a.length&&(this.cacheHelper.saveAdvertInfo(e,{isEmpty:!0}),r(null)),wb.xnm.getGoodsForRecommendAndCatalog(a).then(r=>this.cacheHelper.saveAdvertInfo(e,{advGoods:r,advData:t}).then(()=>Promise.resolve(r))).then(e=>{r({advGoods:e,advData:t})})}).catch(()=>{r(null)})})},r._getAdvertType=function(t){return void 0!==t.searchtext?ADVERT_TYPE.search:t.promoId?ADVERT_TYPE.promo:ADVERT_TYPE.catalog},r._getAdvertUrl=function(t){const e="https://catalog-ads.wildberries.ru/api/v6";switch(this.advertType){case ADVERT_TYPE.search:return`${e}/search?keyword=${t.searchtext.toSafeString()}`;case ADVERT_TYPE.promo:return`https://recom-ads.wildberries.ru/api/v2/promoads?id=${t.promoId}`;default:return`${e}/catalog?menuid=${t.menuId}`}},r._buildPromoAdvData=function(t){if(!t)return null;const e=[];return{adverts:t.map((r,o)=>(e.push(o+1),{code:"",advertId:0,id:r,cpm:t.length-o})),pages:[{positions:e,page:1,count:t.length}]}},r._getfilteredPagedAdvGoods=function(t,e,r){const{filters:o,hasUncheckedFilters:i}=this._getFiltersFromQuery(e),{advData:n,advGoods:a}=t;if(i)return[];const s=[],d=[];return a.forEach(t=>{if(!this._checkingProductWithFilters(t,o))return;t.isAdv=!0;const e=n.adverts.find(e=>e.id===t.nmId);e.fixed?(this._fillStatInfo(t,e,e.fixed),s.push(t)):d.push(t)}),d.sort((t,e)=>this._nonFixedGoodsSorterFunc(n,t,e)),this._getPagedAdvGoods(t,s,d)},r._getFiltersFromQuery=function(t){var e,r;const o=null==t||null===(e=t.queryDictionary)||void 0===e?void 0:e.filters,i={xsubject:[],fbrand:[],fcolor:[],priceU:[]};let n=!1;if(!o)return{filters:i,hasUncheckedFilters:n};for(const t in o){var a;if(i.hasOwnProperty(t))i[t]=null===(a=o[t].split(";"))||void 0===a?void 0:a.map(t=>parseInt(t));else if(this.advertType!==ADVERT_TYPE.promo){n=!0;break}}return this.advertType===ADVERT_TYPE.search&&null!=t&&null!==(r=t.queryDictionary)&&void 0!==r&&r.ssubject&&i.xsubject.push(parseInt(t.queryDictionary.ssubject)),{filters:i,hasUncheckedFilters:n}},r._getDeliveryTime=function(t){if(!t)return null;const e=(new Date).getHours();let r=e+t,o=0;return r>=24&&(r-=24*(o=Math.floor(r/24))),0===o?r<9?t=8-e:r<20||(t=32-e):t=1===o&&r<9?8-e:r<20?19-e:43-e,t+=24*o},r._checkingProductWithFilters=function(t,e){if(e.xsubject.length>0&&!e.xsubject.includes(t.subjectId))return!1;if(e.fbrand.length>0&&!e.fbrand.includes(t.brandCod))return!1;if(e.fcolor.length>0){if(!t.colorCodes.some(t=>e.fcolor.includes(t)))return!1}if(e.priceU.length>0){const r=100*parseInt(t.priceWithCouponAndDiscount),o=e.priceU[0],i=e.priceU[1];if(r<o||r>i)return!1}return!0},r._fillStatInfo=function(t,e,r,o=1){var i,n,a,s;t.advStatFields={advertId:e.advertId,position:r,cpm:null!==(i=null===(n=t.advStatFields)||void 0===n?void 0:n.cpm)&&void 0!==i?i:e.cpm,subjectId:t.subjectId,brandId:t.brandCod,kindId:t.kindId,page:o,identifier:this._getIdentifier(),totalWeight:null!==(a=null===(s=t.advStatFields)||void 0===s?void 0:s.totalWeight)&&void 0!==a?a:0},t.extraAnaliticsCode=this.advertType===ADVERT_TYPE.search?"SAB":"CAB"},r._fillStatInfoFromCatalog=function(t,e,r=1){t.isAdv=!0,t.advStatFields={advertId:1,boosted:!0,position:e,cpm:t.log.cpm,subjectId:t.subjectId,brandId:t.brandCod,kindId:t.kindId,page:r,identifier:this._getIdentifier()},t.extraAnaliticsCode=this.advertType===ADVERT_TYPE.search?"SAB":"CAB"},r._getIdentifier=function(){return this.queryDictionary.menuId?this.queryDictionary.menuId:this.queryDictionary.searchtext?this.queryDictionary.searchtext:this.queryDictionary.promoId?this.queryDictionary.promoId:""},r._getPagedAdvGoods=function(t,e,r){const{advData:o}=t;o.pages.sort((t,e)=>t.page-e.page);const i={};return r=this.advertSorter.sortProducts(r,o),o.pages.forEach(t=>{let n=r.splice(0,t.positions.length);n.forEach((e,r)=>{const i=o.adverts.find(t=>t.id===e.nmId);this._fillStatInfo(e,i,t.positions[r],t.page)}),1===t.page&&(n=e.concat(n)),n.sort((t,e)=>t.advStatFields.position-e.advStatFields.position),i[t.page]=n}),i},r._nonFixedGoodsSorterFunc=function(t,e,r){var o,i,n,a;const s=t.adverts.find(t=>t.id===e.nmId),d=t.adverts.find(t=>t.id===r.nmId),l=(null!==(o=null===(i=t.prioritySubjects)||void 0===i?void 0:i.indexOf(s.subject))&&void 0!==o?o:0)-(null!==(n=null===(a=t.prioritySubjects)||void 0===a?void 0:a.indexOf(d.subject))&&void 0!==n?n:0);return 0===l?d.cpm-s.cpm:l},r._mergeAdvertAndCommonGoods=function(t,e){if(!(null!=e&&e.length)>0)return t;let r=t,o=t.map(t=>t.nmId),i=e.map(t=>t.nmId);const n=o.getIntesection(i);n.length>0&&(r=t.filter(t=>!n.includes(t.nmId))),e.forEach(e=>{const o=e.advStatFields.position;0===o||(o-1<t.length?r.splice(o-1,0,e):o>=t.length&&r.push(e))});for(let t=1;t<=r.length;t++){var a;const e=r[t-1];1===(null===(a=e.log)||void 0===a?void 0:a.promotion)&&(e.advStatFields.position=t)}return r},r._getCacheKey=function(t){switch(this.advertType){case ADVERT_TYPE.catalog:return`catalog-${t.menuId}`;case ADVERT_TYPE.search:return`search-${t.searchtext}`;case ADVERT_TYPE.promo:return`promo-${t.promoId}`;default:return null}},_createClass(e,[{key:"advertEnabled",get:function(){var t;return null===(t=wb.global.settings)||void 0===t||null===(t=t.switches)||void 0===t?void 0:t.enableCatalogAdvert}},{key:"advertType",get:function(){return null==this._advertType&&(this._advertType=this._getAdvertType(this.queryDictionary)),this._advertType}}]),e}(WbSpaModel);module.exports=XCatalogAdvertProvider;

},{"./helpers/catalogAdvertCache":5,"./helpers/catalogAdvertSorter":6}],3:[function(require,module,exports){
"use strict";function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}let XCatalogFiltresProvider=function(t){function e(e){var r;return(r=t.call(this)||this).xData=e,r.abortController=null,r}_inheritsLoose(e,t);var r=e.prototype;return r.update=function(t){this.abort(),this.xData=t,this.abortController=null},r.loadFiltersAsync=async function(t){this.abort();const[e,r]=await Promise.all([this.$getCurrentXInfoWithClustersAsync(),this.$analitic.getSplitInfo()]),o=new URLSearchParams({TestID:r.splitId,TestGroup:r.title}),{xData:a}=this;this.abortController=new AbortController;let s=a.dataUrlFilters,l=e;a.xcatalogQuery&&"Search"!==a.catalogType&&(l+="&"+a.xcatalogQuery),"Search"===a.catalogType&&(l+=`&query=${encodeURIComponent(a.userSearch)}&resultset=filters&suppressSpellcheck=${!!a.nocorrection}&${o}`,a.ssubject&&(l+=`&subject=${a.ssubject}`));const i=decodeURIComponent(t);i&&(l+="&"+i),s+="?"+(l=wb.helpers.replaceDeliveryFilterVal(l)).split("&").sort().join("&");const n=await this.$httpClient.fetchBasicJSON(s,{signal:this.abortController.signal},{throwAbortError:!0});return null==n?void 0:n.data},r.getSpecificFilter=async function(t,e){const[r,o]=await Promise.all([this.$getCurrentXInfoWithClustersAsync(),this.$analitic.getSplitInfo()]),a=new URLSearchParams({TestID:o.splitId,TestGroup:o.title}),{xData:s}=this;let l=s.dataUrlFilters;return l+=`?filters=${e.replace(/ftop/,"f")}`,s.xcatalogQuery&&"Search"!==s.catalogType&&(l+="&"+s.xcatalogQuery),"Search"===s.catalogType&&(l+=`&query=${encodeURIComponent(s.userSearch)}&resultset=filters&suppressSpellcheck=${!!s.nocorrection}&${a}`),l+="&"+r,t&&(l+="&"+t),l=wb.helpers.replaceDeliveryFilterVal(l),(await this.$httpClient.fetchBasicJSON(l)).data},r.abort=function(){var t;null===(t=this.abortController)||void 0===t||t.abort()},e}(WbSpaModel);module.exports=XCatalogFiltresProvider;

},{}],4:[function(require,module,exports){
"use strict";function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,_setPrototypeOf(t,o)}function _setPrototypeOf(t,o){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t})(t,o)}let XCatalogGoodsProvider=function(t){function o(o){var e;return(e=t.call(this)||this).xData=o,e.abortController=null,e.loadGoodsAsync=e.loadGoodsAsync.bind(_assertThisInitialized(e)),e}_inheritsLoose(o,t);var e=o.prototype;return e.update=function(t){this.abort(),this.xData=t,this.abortController=null},e.loadGoodsAsync=async function(t){var o,e,r,a;this.abort();const{xData:s}=this;this.abortController=new AbortController;const n=this.abortController,[l,i]=await Promise.all([this.$getCurrentXInfoWithClustersAsync(),this.$analitic.getSplitInfo()]),c=new URLSearchParams({TestID:i.splitId,TestGroup:i.title});let u=s.dataUrl,p=l;s.xcatalogQuery&&"Search"!==s.catalogType&&(p+=`&${s.xcatalogQuery}`),"Search"===s.catalogType&&(p+=`&query=${encodeURIComponent(s.userSearch)}&resultset=catalog&suppressSpellcheck=${!!s.nocorrection}&${c}`,s.ssubject&&(p+=`&subject=${s.ssubject}`));const d=decodeURIComponent(t);d&&(p+="&"+d),u+=`?${(p=wb.helpers.replaceDeliveryFilterVal(p)).split("&").sort().join("&")}`;const h=await this.$httpClient.fetchBasicJSON(u,{signal:n.signal},{retry:2,throwAbortError:!0,saveToBlob:"catalog"}),y=null==h||null===(o=h.params)||void 0===o||null===(o=o.curr)||void 0===o?void 0:o.toUpperCase(),b=null==h||null===(e=h.params)||void 0===e?void 0:e.spp;return{goods:null!==(r=null==h||null===(a=h.data)||void 0===a?void 0:a.products.map(t=>(t.currency=y,t.spp=b,wb.xnm.convertXProductToSpaCatalogProduct(t))))&&void 0!==r?r:[],resp:h}},e.loadSubjectsAsync=async function(t){const{xData:o}=this,e=await this.$analitic.getSplitInfo(),r=new URLSearchParams({TestID:e.splitId,TestGroup:e.title});let a=o.dataUrlOneFilter,s="filters=xsubject&"+t;return o.xcatalogQuery&&"Search"!==o.catalogType&&(s+=`&${o.xcatalogQuery}`),"Search"===o.catalogType&&(s+=`&query=${encodeURIComponent(o.userSearch)}&resultset=filters&${r}`),a+=`?${s.split("&").sort().join("&")}`,this.$httpClient.fetchBasicJSON(a,{},{retry:2,nullOnError:!0})},e.abort=function(){var t;null===(t=this.abortController)||void 0===t||t.abort()},o}(WbSpaModel);module.exports=XCatalogGoodsProvider;

},{}],5:[function(require,module,exports){
"use strict";function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}let instance=null;const DATABASE_NAME="wb_catalog_adverts",ADVERTS_INFO_STORAGE_NAME="adverts_info",DATABASE_VERSION=1,CAHCE_DURATION=3e5;let CatalogAdvertCache=function(t){function e(){var e;return(e=t.call(this)||this)._startInterval(),e._bindEvents(),e}_inheritsLoose(e,t);var o=e.prototype;return o.saveAdvertInfo=async function(t,e){if(null==t)return;const o=await this._openDb();if(o)try{const n=o.transaction(["adverts_info"],"readwrite").objectStore("adverts_info"),a=WbSpaModel.prototype.$user.getCurrency();n.put({id:t,model:e,ttl:Date.now()+3e5,currency:a})}catch(e){var r;wb.spa.logError(e,`[CatalogAdvertCache]: failed to store advert item to idb key=${t}, storage_exists=${null===(r=o.objectStoreNames)||void 0===r?void 0:r.contains("adverts_info")}`)}},o.getAdvertInfo=async function(t){if(null==t)return null;const e=await this._openDb();if(!e)return null;try{const r=await this.$storageHelper.getItem(e,"adverts_info",t),n=WbSpaModel.prototype.$user.getCurrency();if((null==r?void 0:r.ttl)>=Date.now()&&(null==r?void 0:r.currency)==n)return window._debug&&console.log("adv info from cache"),r.model}catch(r){var o;wb.spa.logError(r,`[CatalogAdvertCache]: failed to get advert item key=${t}, storage_exists=${null===(o=e.objectStoreNames)||void 0===o?void 0:o.contains("adverts_info")}`)}return null},o._openDb=async function(){try{return await this.$storageHelper.openDb(DATABASE_NAME,{onupgradeneeded(t){if(t.objectStoreNames.contains("adverts_info"))return;t.createObjectStore("adverts_info",{keyPath:"id"}).createIndex("ttl","ttl",{unique:!1})},version:1})}catch(t){return wb.spa.logError(t,"[CatalogAdvertCache]: failed to open idb"),null}},o._startInterval=function(){setInterval(async()=>{try{const t=await this._openDb();if(!t)return;const e=t.transaction(["adverts_info"],"readwrite").objectStore("adverts_info");e.index("ttl").openCursor(IDBKeyRange.upperBound(Date.now())).onsuccess=(t=>{const o=t.target.result;o&&(e.delete(o.value.id),o.continue())})}catch(t){wb.spa.logError(t,"[CatalogAdvertCache]: failed to complete clear job")}},15e4)},o._bindEvents=function(){this.$eventBus.addEventListener("GeoUpdated",async()=>{try{const t=await this._openDb();if(!t)return;t.transaction(["adverts_info"],"readwrite").objectStore("adverts_info").clear()}catch(t){wb.spa.logError(t,"[CatalogAdvertCache]: failed to clear storage after geo update")}})},e}(WbSpaModel);module.exports=function(){function t(){}return t.getAdvertCache=function(){return null==instance&&(instance=new CatalogAdvertCache),instance},t}();

},{}],6:[function(require,module,exports){
"use strict";let CatalogAdvertSorter=function(){function t(){}var e=t.prototype;return e.sortProducts=function(t,e){var r,s;if(null===(r=e.adverts)||void 0===r||!r.length||null==t||!t.length)return[];const o=e.adverts.reduce((t,e)=>t.set(e.id,e),new Map);if(null!==(s=e.prioritySubjects)&&void 0!==s&&s.length)return this._sortProductsBySubjectGroups(t,e,o);const i=this._toAdvertInfo(t,e.adverts.length);return this._sortProducts(i,e,o)},e._toAdvertInfo=function(t,e){return{advertsCount:null!=e?e:0,products:null!=t?t:[]}},e._sortProductsBySubjectGroups=function(t,e,r){const s=t.reduce((t,e)=>t.set(e.nmId,e),new Map),o=e.adverts.reduce((t,e)=>{var r;const o=e.subject,i=s.get(e.id),n=null!==(r=t.get(o))&&void 0!==r?r:this._toAdvertInfo();return n.advertsCount++,i&&n.products.push(i),t.set(o,n)},new Map),i=[];for(let t=0;t<e.prioritySubjects.length;t++){const s=e.prioritySubjects[t],n=o.get(s),d=this._sortProducts(n,e,r);i.push(...d)}return i},e._sortProducts=function(t,e,r){if(!t)return[];const s=t.products;if(!s||0==s.length)return[];const{weightMapCpm:o,weightMapDelivery:i}=this._getWeightMapsByDeliveryAndCpm(s,r,t),{cpmRatio:n,deliveryRatio:d}=this._getRatioForDeliveryAndCpm(e);for(let t=0;t<s.length;t++){const e=s[t],u=r.get(e.nmId),l=u.cpm,c=e.deliveryHours,a=o.get(l),v=i.get(c);e.advStatFields={cpm:u.cpm,totalWeight:a*n+v*d}}return s.sort((t,e)=>t.advStatFields.totalWeight==e.advStatFields.totalWeight&&e.advStatFields.cpm!=t.advStatFields.cpm?e.advStatFields.cpm-t.advStatFields.cpm:e.advStatFields.totalWeight-t.advStatFields.totalWeight),s},e._getWeightMapsByDeliveryAndCpm=function(t,e,r){const{cpms:s,deliveries:o}=t.reduce((t,r)=>{if(!r)return;const s=e.get(r.nmId);return t.deliveries.add(r.deliveryHours),t.cpms.add(s.cpm),t},{cpms:new Set,deliveries:new Set}),i=1/r.advertsCount;function n(t){let e=1;return t.reduce((t,r)=>t.has(r)?t:(t.size>0&&(e-=i),t.set(r,e)),new Map)}function d(t,e){const r=t.toArray();return r.sort(e),r}return{weightMapCpm:n(d(s,(t,e)=>e-t)),weightMapDelivery:n(d(o,(t,e)=>t-e))}},e._getRatioForDeliveryAndCpm=function(t){var e,r;let s=2/3,o=1/3;if(null!=t&&null!==(e=t.sortWeights)&&void 0!==e&&e.cpm&&null!=t&&null!==(r=t.sortWeights)&&void 0!==r&&r.delivery){const e=t.sortWeights.cpm+t.sortWeights.delivery;e&&(s=t.sortWeights.cpm/e,o=t.sortWeights.delivery/e)}return{cpmRatio:s,deliveryRatio:o}},t}();module.exports=CatalogAdvertSorter;

},{}]},{},[1]);
